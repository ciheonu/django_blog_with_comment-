{% extends "base.html" %}
{% load static %}{% block content %} {% for post in posts %}
<article class="media content-section">
  <img class="rounded-circle article-img" src="{{ post.user.profile.image.url }}">
  <div class="media-body">
    <div class="article-metadata">
      <a class="mr-2" href="{% url 'user_posts' post.user.email %}">{{ post.user }}</a>
      <small class="text-muted">{{ post.date_posted }}</small>
    </div>
     {% if post.image %}
    <img
      src="{{ post.image.url }}"
      class="article-img"
      style="width: 40em; height: 20em; float: left; margin-right: 10px"
    />
      {% else %}
      <img src="{% static 'default.jpg' %}">
      {% endif %}

    <h2>
      <a class="article-title" href="{% url 'post_detail' post.pk %}"
        >{{ post.title }}</a
      >
    </h2>
    <p class="article-content">{{ post.content|truncatewords:20 }}</p>
    <a class="btn btn-secondary" href="{% url 'post_detail' post.pk %}"
      >Read More</a
    >
  </div>
</article>
{% endfor %} {% endblock content %}
